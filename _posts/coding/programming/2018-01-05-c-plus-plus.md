---
layout: post
title: C++
subtitle:
author: Bin Li
tags: [Programming]
image: 
comments: true
published: true
---

　　The way to learn a new programming language is to write programs.

![](/img/media/15844536937655.jpg)


## 封装
封装是面向对象的特征之一，是对象和类概念的主要特性。封装就是把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏。

## 继承
面向对象编程语言的一个主要功能就是继承。继承是指这样一种能力：它可以使用现有类的所有功能，并在无需重新编写原来类的情况下对这些功能进行扩展。

* 通过继承创建的新类称为子类或派生类
* 被继承的类称为基类、父类或超类
* 继承的过程，就是从一般到特殊的过程

在某些 OOP 语言中，一个子类可以继承多个基类。但是一般情况下，一个子类只能有一个基类，要实现多重继承，可以通过多级继承来实现。

继承概念的实现方法有三类：
1. 实现继承是指仅适用基类的属性和方法而无需额外编码的能力
2. 接口继承是指仅适用属性和方法的名称，但是子类必须提供实现的能力
3. 可视继承是指子窗体（类）使用基窗体（类）的外观和实现代码的能力

在考虑使用继承时，有一点需要注意，那就是两个类之间的关系应该是“属于”关系。例如，Employee 是一个人，Manager 也是一个人，因此这两个类都可以继承 Person 类。但是 Leg 类却不能继承 Person 类，因为腿并不是一个人。

抽象类仅定义将由子类创建的一般属性和方法，创建抽象类时，要使用关键字 Interface 而不是 Class。

OO 开发范式大致为：划分对象→抽象类→将类组织成为层次化结构(继承和合成) →用类与实例进行设计和实现几个阶段。

## 多态
多态性是允许将父对象设置为一个或多个其子对象相等的技术，赋值之后，父对象就可以根据当前复制给它子对象的特性以不同的方式运作。简单讲就是**允许将子类类型的指针复制给父类类型的指针**。不同对象对同一行为会有不同的状态。

在父类的函数前加上virtual关键字，在子类中重写该函数，运行时将会根据对象的实际类型来调用相应的函数，如果对象类型是子类，就调用子类的函数，如果对象类型是父类，就调用父类的函数。

实现多态有两种方式：
* 覆盖，指子类重新定义父类的虚函数的做法
* 重载，指允许存在多个同名函数，而这些函数的参数表不同（可以是参数个数不同，也可是参数类型不同，或者二者皆不同）

多态的作用？

封装可以隐藏实现细节，使代码模块化；继承可以拓展已存在的代码模块（类），他们共同的目的都是为了代码重用，而多态则是为了实现接口重用。

多态的作用，就是为了类在继承和派生的时候，保证使用家谱中任意类的实例的某一属性是的正确调用。

## 堆栈
### 堆栈空间的分配
栈由操作系统自动分配释放，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。

堆一般由程序员分配释放，如果程序员不释放，程序结束时可能由 OS 回收，分配方式倒是类似于链表。

### 堆栈缓存方式
栈使用的是一级缓存，他们通常都是被调用时处于存储空间中，调用完毕立即释放。

堆则是存放在二级缓存中，生命周期由虚拟机的额垃圾回首算法来决定（并不是一旦成为孤儿对象就能被回收）。所以调用这些对象的双速度要相对来得低一些。

### 两者对比
堆和栈子啊申请方式上不同，回收方式也不同。


## References
1. [参考](https://blog.csdn.net/cancan8538/article/details/8057095)
2. [堆和栈的区别 之 数据结构和内存](http://www.cleey.com/blog/single/id/776.html)