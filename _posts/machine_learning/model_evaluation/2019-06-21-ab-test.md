---
layout: post
title: A/B Test
subtitle: A/B 测试
author: Bin Li
tags: [Machine Learning]
category: ""
comments: true
published: true
typora-root-url: ../../../../binlidaily.github.io
---

　　在互联网公司中，A/B 测试是验证新模块、新功能、新产品是否有效，新算法、新模型的效果是否有提升，新设计是否受到用户欢迎，新更改是否影响用户体验的主要测试方法。在机器学习领域中，A/B 测试是验证模型最终效果的主要手段。

需要进行在线A/B测试的原因如下：

1. 离线评估无法完全消除模型过拟合的影响，因此，得出的离线评估结果无法完全替代线上评估结果。
2. 离线评估无法完全还原线上的工程环境。一般来讲，离线评估往往不会 考虑线上环境的延迟、数据丢失、标签数据缺失等情况。因此，离线评估的结果 是理想工程环境下的结果。
3. 线上系统的某些商业指标在离线评估中无法计算。离线评估一般是针对 模型本身进行评估，而与模型相关的其他指标，特别是商业指标，往往无法直接 获得。比如，上线了新的推荐算法，离线评估往往关注的是ROC曲线、P-R曲线等 的改进，而线上评估可以全面了解该推荐算法带来的用户点击率、留存时长、PV 访问量等的变化。这些都要由A/B测试来进行全面的评估。

　　进行A/B测试的主要手段是进行**用户分桶**，即将用户分成实验组和对照组，对实验组的用户施以新模型，对对照组的用户施以旧模型。在分桶的过程中，要注意**样本的独立性和采样方式的无偏性**，确保同一个用户每次只能分到同一个桶中，在分桶过程中所选取的user_id需要是一个随机数，这样才能保证桶中的样本是无偏的。

![Scan Jun 21, 2019 at 1.37 P](/img/media/Scan%20Jun%2021,%202019%20at%201.37%20PM.jpg)

## References
1. 百面机器学习
2. [什么是 A/B 测试？](https://www.zhihu.com/question/20045543)